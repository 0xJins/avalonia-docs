"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[4106],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},435:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={description:"GET STARTED"},l="\u26a1 Code With Controls",o={unversionedId:"get-started/code-with-controls",id:"version-11.0.0/get-started/code-with-controls",title:"\u26a1 Code With Controls",description:"GET STARTED",source:"@site/versioned_docs/version-11.0.0/get-started/code-with-controls.md",sourceDirName:"get-started",slug:"/get-started/code-with-controls",permalink:"/docs/get-started/code-with-controls",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-11.0.0/get-started/code-with-controls.md",tags:[],version:"11.0.0",frontMatter:{description:"GET STARTED"},sidebar:"documentationSidebar",previous:{title:"\u26a1 Respond to an Event",permalink:"/docs/get-started/respond-to-an-event"},next:{title:"\u26a1 Starting with the CLI",permalink:"/docs/get-started/getting-started"}},s={},c=[{value:"Control Names",id:"control-names",level:2},{value:"Code-behind (Get)",id:"code-behind-get",level:2},{value:"Code-behind (Set)",id:"code-behind-set",level:2},{value:"Exercises",id:"exercises",level:3}],p={toc:c},d="wrapper";function u(e){let{components:t,...i}=e;return(0,r.kt)(d,(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"-code-with-controls"},"\u26a1 Code With Controls"),(0,r.kt)("p",null,"The action you will implement here is to update the Fahrenheit temperature control, using the value of the Centigrade control, and a simple formula, whenever the button is clicked."),(0,r.kt)("h2",{id:"control-names"},"Control Names"),(0,r.kt)("p",null,"When ",(0,r.kt)("em",{parentName:"p"},"Avalonia UI")," creates the main window at runtime, it also creates objects for each of the controls defined in the window. Your code can access the controls at runtime, but to access them, it will need some control names."),(0,r.kt)("p",null,"To add some control names, follow this procedure:"),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Stop the app if it is running."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Locate the input for Centigrade."," "),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Add the name attribute like this:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<TextBox ... Name="centigrade"/>\n')),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Repeat the above for the Fahrenheit input:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<TextBox ... Name="fahrenheit"/>\n')),(0,r.kt)("h2",{id:"code-behind-get"},"Code-behind (Get)"),(0,r.kt)("p",null,"To demonstrate access to the text value of the Centigrade input, follow this procedure:"),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Switch to the ",(0,r.kt)("a",{parentName:"li",href:"#user-content-fn-1"},(0,r.kt)("strong",{parentName:"a"},"MainWindow.axaml.cs")),(0,r.kt)("sup",{parentName:"li",id:"fnref-1"},(0,r.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))," code-behind file."," "),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Locate the ",(0,r.kt)("inlineCode",{parentName:"li"},"ButtonClicked")," event handler."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Alter the ",(0,r.kt)("inlineCode",{parentName:"li"},"Debug")," statement to display the text property of the Centigrade input, like this:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'Debug.WriteLine($"Click! Centigrade={centigrade.Text}");\n')),(0,r.kt)("p",null,"You will see the ",(0,r.kt)("em",{parentName:"p"},"Avalonia UI")," Intellisense prompt with the name of the Centigrade control as you type:"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(1347).Z,width:"1109",height:"295"})),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Run the app to confirm that you can see the value in the Centigrade appear in the debug window.")),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(9423).Z,width:"614",height:"132"})),(0,r.kt)("h2",{id:"code-behind-set"},"Code-behind (Set)"),(0,r.kt)("p",null,"To use the simple formula that converts Centigrade temperature to Fahrenheit, you will first need to ensure that the Centigrade input text converts to a number. The formula is then:"),(0,r.kt)("p",null,"$$\nT",(0,r.kt)("em",{parentName:"p"},"{F} = T"),"{c} * (9/5) + 32\n$$"),(0,r.kt)("p",null,"To add the conversion formula, follow this procedure:"),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Locate the ",(0,r.kt)("inlineCode",{parentName:"li"},"ButtonClicked")," event handler."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Alter the code in the event handler to check that the Centigrade input text converts to a number."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Alter the code to include the conversion formula."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Update the text in the Fahrenheit input to the result of the conversion formula."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Run the app to check your work.")),(0,r.kt)("p",null,"One implementation of the above is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'if (Double.TryParse(centigrade.Text, out double C))\n{\n    var F = C * (9d / 5d) + 32;\n    fahrenheit.Text = F.ToString("0.0");\n}\nelse\n{\n    centigrade.Text = "0";\n    fahrenheit.Text = "0";\n}\n')),(0,r.kt)("p",null," ","You can check your work using the following conversion table:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Centigrade"),(0,r.kt)("th",{parentName:"tr",align:null},"Farenheit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-10"),(0,r.kt)("td",{parentName:"tr",align:null},"14.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"32.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"10"),(0,r.kt)("td",{parentName:"tr",align:null},"50.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"21"),(0,r.kt)("td",{parentName:"tr",align:null},"69.8")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"25"),(0,r.kt)("td",{parentName:"tr",align:null},"77.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"32"),(0,r.kt)("td",{parentName:"tr",align:null},"89.6")))),(0,r.kt)("h3",{id:"exercises"},"Exercises"),(0,r.kt)("p",null,"You have now used an event handler to get and set control properties at runtime. You could now try some of these exercises:"),(0,r.kt)("p",null,"Stop showing the gridlines (easy)."),(0,r.kt)("p",null,"Stop the user changing the text in the Fahrenheit input by setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"ReadOnly")," attribute (easy)."),(0,r.kt)("p",null,"Calculate the conversion as the user types into the Centigrade input (moderate)."),(0,r.kt)("p",null,"Prevent the user typing invalid characters in the Centigrade input (harder)."," "),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"For full information about the complete range of ",(0,r.kt)("em",{parentName:"p"},"Avalonia UI")," built-in controls, events and attributes, see the controls reference section ",(0,r.kt)("a",{parentName:"p",href:"../reference/controls/"},"here"),".")))}u.isMDXComponent=!0},1347:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image (55)-a42ac3d516f45fd7653bc36e0fbaf93e.png"},9423:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image (63)-4a5e3dcd6652e90698ca112bd7de9943.png"}}]);