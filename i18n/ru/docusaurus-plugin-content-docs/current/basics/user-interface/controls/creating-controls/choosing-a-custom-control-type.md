# Выбор типа пользовательского `control`

Avalonia позволяет использовать различные способы создания пользовательских `controls`,
которые помогают решать конкретные потребности в приложении.
Понимание различных типов пользовательских `controls` поможет вам эффективнее выбирать более подходящий вариант решения проблемы.
Тремя самыми распространенными типами пользовательских `controls` являются `UserControls`, `lookless controls (рус: controls без внешнего вида)`,
а также `custom-drawn controls`.

## UserControl

`UserControl` - это высокоуровневый подход к созданию пользовательских `controls` в Avalonia.
Он позволяет вам создать `control`, путем объединения существующих `controls` и определения макета через XAML.
`UserControl` действует как контейнер, который инкапсулирует несколько `controls` и обеспечивает единый пользовательский интерфейс.

:::info
Как правило, `UserControls` используются для представления в приложении специализированных `view`, таких как "Сведения о пользователе",
и не должны использоваться в UI как элементы общего назначения.
:::

Создание `UserControl` состоит из нескольких шагов:

1. **Define the XAML (рус: Определить XAML)**: Создание XAML-файла для нового `UserControl`, в котором определяются макет и внешний вид `control`,
   путем размещения других `controls`, изменения свойства и применения стилей.

2. **Code-behind**: Опционально, вы можете добавить `code-behind` логику для обработки событий, изменения поведения
   или внесения дополнительной функциональности `UserControl`.

3. **Reuse and Customization (рус: Переиспользование и настройка)**: `UserControl` может быть легко переиспользован и настроен в приложении.
   Это особенно полезно, если вы хотите инкапсулировать определенный набор `controls` или поведений в переиспользуемом компоненте или `view`.

<GitHubSampleLink title="Custom Control" link="https://github.com/AvaloniaUI/AvaloniaUI.QuickGuides/tree/main/CustomControl"/>

## Templated (Lookless) Controls (рус: Шаблонные Controls (без внешнего вида))

`Templated controls (рус: Шаблонные controls)` (также известные как `Lookless controls (рус: controls без внешнего вида`) -
это более продвинутые и гибкий подход к созданию пользовательских `controls` в Avalonia.
Он отделяет поведение и логику `control` от внешнего вида, что позволяет разработчику создавать стили и шаблоны для `control`.

С помощью `templated controls (рус: шаблонных controls)` вы определяете поведение и свойства `control` в `code-behind` классе,
в то время как визуальное представление задается с помощью, определенных в XAML, шаблонов `control`.
Такое разделение позволяет разработчику настраивать внешний вид `control` без изменения его базового поведения.

:::info
`Templated controls (рус: Шаблонные controls)` обычно используются для элементов пользовательского интерфейса
общего назначения, которые не являются специализированными для бизнес-логики и требуются различных тем и стилей.
Большинство [built-in controls](../builtin-controls.md), поддерживаемых Avalonia, являются `templated controls (рус: шаблонными controls)`.
:::

Создание `templated control (рус: шаблонного control)` состоит из следующих шагов:

1. **Определите класс для `Control`**: Создайте новый класс и наследуйте его от `TemplatedControl`.
   Данный класс определяет поведение, свойства и события `control`.

2. **Control Template (рус: Шаблон для `Control`)**:
   Для определения внешнего вида и структуры `control` создайте в XAML [`ControlTheme`](control-themes).
   `Control template (рус: Шаблон для control)` оопределяет части `control` и их стили.

3. **Стилизация и шаблонизация**: Разработчик приложения можем настроить внешний вид `control`
   путем изменения `control template (рус: шаблона для control)` или применив стили.
   Это обеспечивает согласованный и унифицированный дизайн интерфейса в приложении.

`Templated controls (рус: шаблонные controls)` обеспечивают отличную гибкость и возможность переиспользования,
что делает их идеальными для ситуаций, где требуется проводить стилизацию под различные темы или адаптирвоать под предпочтения пользователя.

## Custom-drawn Controls

`Custom-drawn controls` обеспечивают наибольшую гибкость настройки в Avalonia.
С помощью него, вы получаете полный контроль на отображением визуальных элементов `control`,
что позволяет создавать уникальные и комплексные варианты отображения.

:::info
`Custom-drawn controls` обычно используются в ситуациях, когда требуется отобразить не интерактивный графический элемент.
Как правило, он не зависит от выбранной темы.
:::

Для создание `custom-drawn control`, вы должны переопределить метод `Render` и использовать низкоуровневое API,
такое как `DrawingContext`, для отрисовки внешнего вида `control`.
Данный подход обеспечивает полный контроль над каждым пикселем отображаемого `control`.

Создание `custom-drawn control` состоит из следующих шагов:

1. **Определите класс Control**: Создайте новый класс, наследованный от `Control`. Он будет определять поведение и логику отображения `control`.

2. **Переопределите метод отрисовки**: В классе `Control`, переопределите метод `Render`, а затем используйте `DrawingContext` для отрисовки его содержимого.
